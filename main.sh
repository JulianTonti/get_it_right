#!/bin/bash

function get_it_right() {
ART="
x⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
x⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⣿⡟⠿⠿⣷⣶⣤⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
x⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢻⣿⡆⠀⠀⠉⠙⠿⣿⣦⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
x⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣾⡿⠀⠀⠀⠀⠀⠀⠀⠙⢿⣷⣆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
x⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣿⡟⠁⠀⠀⠀⠀⠀⠀⠀⠀⢀⣽⣿⣷⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
x⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣿⡏⠀⠀⠀⠀⠀⠀⠀⢀⣠⡶⠟⠉⠀⠙⣿⣦⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
x⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⣿⣇⣀⢀⣀⣀⣤⣴⠾⠛⠉⠀⠀⠀⠀⠀⠘⣿⣧⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
x⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣴⣿⡿⠟⠛⠛⠛⠛⠉⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⣿⡆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
x⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣾⡿⠛⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣼⣿⣷⣦⣤⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
x⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣴⣿⠏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣤⡾⠛⠁⠀⠀⠉⠛⢿⣷⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
x⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣤⡾⠟⠁⠀⠀⠀⠀⠀⠀⠀⠀⠙⣿⣧⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
x⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣧⠀⢀⣠⣴⠶⠶⢶⣦⣄⠀⢀⣀⣤⡶⠟⠋⠁⠀⠀⢀⣤⡶⠶⠶⢶⣦⣄⠀⠀⣽⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
x⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣼⣿⣶⡿⠋⠀⢀⣀⠀⠈⠙⣿⣏⠉⠁⠀⠀⠀⠀⠀⣴⡟⠋⠀⢀⣀⠀⠈⠙⣷⣴⣿⣿⣤⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
x⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣴⣿⠿⠛⢹⡟⠀⠀⣴⣿⣿⣿⣦⠀⠈⢿⡄⠀⠀⠀⠀⠀⣼⡟⠀⠀⣴⣿⣿⣿⣦⠀⠈⣿⡄⠉⠛⢿⣷⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀
x⠀⠀⠀⠀⠀⠀⠀⢀⣾⡿⠋⠁⠀⠀⣿⠃⠀⢰⣿⣿⣿⣿⣿⡇⠀⢸⣷⠀⠀⠀⠀⠀⣿⠁⠀⢸⣿⣿⣿⣿⣿⡇⠀⢸⣷⠀⠀⠀⠙⢿⣷⡀⠀⠀⠀⠀⠀⠀⠀
x⠀⠀⠀⠀⠀⠀⠀⣼⣿⠁⠀⠀⠀⠀⣿⡄⠀⠸⣿⣿⣿⣿⣿⡇⠀⢸⡿⠀⠀⠀⠀⠀⣿⡀⠀⢸⣿⣿⣿⣿⣿⡇⠀⢸⡿⠀⠀⠀⠀⠈⣿⣷⠀⠀⠀⠀⠀⠀⠀
x⠀⠀⠀⠀⠀⠀⠀⣿⣿⠀⠀⠀⠀⠀⢹⣧⠀⠀⠹⣿⣿⣿⡟⠀⢀⣾⠇⢀⣠⣤⡶⠟⢻⣧⠀⠀⠻⣿⣿⣿⠟⠀⢀⣿⠇⠀⠀⠀⠀⠀⣼⣿⠀⠀⠀⠀⠀⠀⠀
x⠀⠀⠀⠀⠀⠀⠀⢹⣿⡄⠀⠀⠀⠀⠀⠻⣷⣄⠀⠀⠉⠁⠀⣠⣾⠿⠞⠛⠉⠀⠀⠀⠀⠻⣷⣀⠀⠀⠉⠀⢀⣠⡿⠋⠀⠀⠀⠀⠀⢠⣿⡏⠀⠀⠀⠀⠀⠀⠀
x⠀⠀⠀⠀⢀⣠⣴⣾⠿⠿⠶⠶⠶⠶⠶⠒⠛⠛⠷⢶⣶⠶⠿⠋⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠛⠿⠶⠶⠶⠟⠋⠀⠀⠀⠀⠀⠀⣠⣿⣿⣶⣦⣀⠀⠀⠀⠀⠀
x⠀⠀⢀⣴⣿⠟⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣤⣶⣦⣤⣤⣄⣀⣀⣀⣀⣀⣀⣀⣀⣀⣀⣤⣤⣴⣶⣤⡀⠀⠀⠀⠀⠀⢀⣴⠟⠁⠀⠈⠙⢿⣷⣄⠀⠀⠀
x⠀⢠⣾⡟⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢿⣦⡀⠈⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠁⠀⣠⡿⠃⠀⠀⢀⣠⣾⠟⠁⠀⠀⠀⠀⠀⠀⠙⣿⣷⠀⠀
x⠀⣾⡿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⠿⣦⣄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣠⣴⠿⠋⠀⣀⣤⡶⠟⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿⡇⠀
x⠀⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠙⠛⠷⣶⣤⣤⣤⣤⣤⣶⠾⢛⣉⣤⣴⠾⠛⠋⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣿⡇⠀
x⠀⢿⣿⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣀⣤⣤⡶⠾⠛⠋⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣾⡿⠁⠀
x⠀⠈⢿⣷⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣀⣀⣀⣤⣤⡶⠶⠛⠛⠋⠉⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣀⣤⣾⡿⠋⠀⠀⠀
x⠀⠀⠀⠙⣻⣿⣶⣶⣤⣤⣤⣶⣶⣶⣶⡿⠿⠿⠟⠛⠛⠛⠛⠿⠿⠿⠿⣿⣷⣶⣶⣶⣶⣶⣦⣤⣤⣤⣤⣤⣤⣤⣤⣤⣤⣶⣶⣶⣾⠿⠿⠛⠋⠁⠀⠀⠀⠀⠀
x⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
x  ____ _____ _____   ___ _____   ____  ___ ____ _   _ _____ 
x / ___| ____|_   _| |_ _|_   _| |  _ \|_ _/ ___| | | |_   _|
x| |  _|  _|   | |    | |  | |   | |_) || | |  _| |_| | | |  
x| |_| | |___  | |    | |  | |   |  _ < | | |_| |  _  | | |  
x \____|_____| |_|   |___| |_|   |_| \_\___\____|_| |_| |_|  "

  function style() {
    for v in "$@"; do
      if   [[ $v == "clear"  ]]; then echo -e -n "\033[0m" && clear
      elif [[ $v == "reset"  ]]; then echo -e -n "\033[0m"
      elif [[ $v == "bold"   ]]; then echo -e -n "\033[1m"
      elif [[ $v == "faded"  ]]; then echo -e -n "\033[2m"
      elif [[ $v == "hide"   ]]; then echo -e -n "\033[8m"
      elif [[ $v == "/bold"  ]]; then echo -e -n "\033[22m"
      elif [[ $v == "/faded" ]]; then echo -e -n "\033[22m"
      elif [[ $v == "/hide"  ]]; then echo -e -n "\033[28m"
      elif [[ $v =~ ^fg_[0-9]{1,3}$ && ${v:3} -lt 256 ]]; then echo -e -n "\033[38;5;${v:3}m"
      elif [[ $v =~ ^bg_[0-9]{1,3}$ && ${v:3} -lt 256 ]]; then echo -e -n "\033[48;5;${v:3}m"
      fi
    done
  }
  function hspace() { 
    local cols=$(tput cols)
    local indent=$(((cols-61)/2))
    local spacer=""
    for ((i=0; i<indent; i++)); do spacer+=" "; done;
    echo -n -e "$spacer"
  }
  function vspace() { 
    local rows=$(tput lines)
    local indent=$(((rows-32)/2))
    local spacer=""
    for ((i=0; i<indent; i++)); do spacer+=" \n"; done;
    echo -n -e "$spacer"
  }
  function pulse() {
    local r=${1:-8} t=${2:-0.1}
    local art="$(vspace)${ART//x/$(hspace)}"
    tput reset
    tput civis
    style fg_94
    for (( i=0; i<r; ++i )); do
      style hide        ; tput home; echo -n -e "$art"; sleep $t;
      style faded /hide ; tput home; echo -n -e "$art"; sleep $t;
      style /faded      ; tput home; echo -n -e "$art"; sleep $t;
      style bold        ; tput home; echo -n -e "$art"; sleep $t; sleep $t;
      style /bold       ; tput home; echo -n -e "$art"; sleep $t;
      style faded       ; tput home; echo -n -e "$art"; sleep $t;
    done;
    tput cnorm
    tput reset
  }
  pulse $1 $2
}
export get_it_right
